---
title: "lab05"
author: "Dylan Scoble"
date: "2/17/2022"
output: html_document
---

The Github repository for this assignment is https://github.com/dscoble/lab05

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(stringr)
library(knitr)
library(skimr)
library(broom)
```


```{r}
airbnb <- read_csv("listings.csv")
```

### Exercise 1
```{r}
airbnb <- airbnb %>% 
  mutate(cleaning_fee = price * 0.02)

glimpse(airbnb)
```

### Exercise 2
```{r}
ggplot(data = airbnb, aes(x = cleaning_fee)) +
  geom_histogram() +
  labs(x = "Cleaning Fee",
       y = "Number of Observations",
       title = "Histogram of Cleaning Fee")
```

```{r}
airbnb %>% 
  summarise(mean = mean(cleaning_fee),
            median = median(cleaning_fee),
            std_dev = sd(cleaning_fee),
            iqr = IQR(cleaning_fee))
```

The distribution of cleaning fee seems to be skewed to the right. There are multiple cases of outliers, which skews the mean value to be significantly larger than the median value.

### Exercise 3

```{r}
count(airbnb, neighbourhood)
```

There are five different categories of neighbourhood in the dataset, as shown by the table above.
The three most common neighbourhoods represented in this dataset are "Unincorporated Areas", "City of Santa Cruz", and "City of Capitola". These three neighbourhoods make up 97.25% of the total number of observations.


### Exercise 4

```{r}
airbnb <- airbnb %>% 
  mutate(neigh_simp = fct_lump_n(neighbourhood, n=3))
count(airbnb, neigh_simp)
```

### Exercise 5

```{r}
count(airbnb, minimum_nights)
```

The four most common values for the minimum_nights variable are 1, 2, 3, and 30. The seemingly unusual value of 30 minimum nights can be easily explained by the fact that these rentals are designated for long-term residents only, not tourists.

```{r}
airbnb <- airbnb %>% 
  filter(minimum_nights <= 3)
count(airbnb,minimum_nights)
```




